<div>
  <!-- Welcome Section -->
  <div class="title text-[32px] font-semibold">
    <h1>Dashboard</h1>
  </div>

  <!-- Date Picker Demo -->
  <div class="flex justify-center mt-8">
    <app-date-picker
      [initialDate]="initialDate"
      [multiSelect]="true"
      (dateSelected)="onDateSelected($event)"
      (applyClicked)="onApplyDates($event)">
    </app-date-picker>
  </div>

  <!-- Applied Dates Display -->
  <div class="flex justify-center mt-4" *ngIf="formattedAppliedDates">
    <app-card classes="px-6 py-4 bg-blue-50 border border-blue-200">
      <div class="text-center">
        <h3 class="text-lg font-semibold text-blue-800 mb-2">Selected Dates</h3>
        <p class="text-blue-600 font-medium">{{ formattedAppliedDates }}</p>
      </div>
    </app-card>
  </div>

  <!-- Stats Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-[30px] mt-[27px]">
    <app-card classes="p-4">
      <div class="flex justify-between">
        <div>
          <p class="text-[16px] text-[#202224a5] font-medium">Total User</p>
          <p class="mt-4 text-[28px] font-semibold">40,000</p>
        </div>
        <div>
          <img src="/assets/icons/poeple.svg" class="size-[60px]" alt="poeple">
        </div>
      </div>
      <div class="mt-[30px] flex gap-2">
        <img src="/assets/icons/increase.svg" alt="increase">
        <p class="text-[#606060] text-[16px]"> <span class="text-[#00B69B]">8.5%</span> Up from yesterday</p>
      </div>
    </app-card>

    <app-card classes="p-4">
      <div class="flex justify-between">
        <div>
          <p class="text-[16px] text-[#202224a5] font-medium">Total Order</p>
          <p class="mt-4 text-[28px] font-semibold">10293</p>
        </div>
        <div>
          <img src="/assets/icons/cube.svg" class="size-[60px]" alt="poeple">
        </div>
      </div>
      <div class="mt-[30px] flex gap-2">
        <img src="/assets/icons/increase.svg" alt="increase">
        <p class="text-[#606060] text-[16px]"> <span class="text-[#00B69B]">1.3%</span> Up from past week</p>
      </div>
    </app-card>

    <app-card classes="p-4">
      <div class="flex justify-between">
        <div>
          <p class="text-[16px] text-[#202224a5] font-medium">Total Sales</p>
          <p class="mt-4 text-[28px] font-semibold">$89,000</p>
        </div>
        <div>
          <img src="/assets/icons/chart.svg" class="size-[60px]" alt="poeple">
        </div>
      </div>
      <div class="mt-[30px] flex gap-2">
        <img src="/assets/icons/decrease.svg" alt="increase">
        <p class="text-[#606060] text-[16px]"> <span class="text-[#F93C65]">4.3%</span> Down from yesterday</p>
      </div>
    </app-card>

     <app-card classes="p-4">
      <div class="flex justify-between">
        <div>
          <p class="text-[16px] text-[#202224a5] font-medium">Total Pending</p>
          <p class="mt-4 text-[28px] font-semibold">2040</p>
        </div>
        <div>
          <img src="/assets/icons/time.svg" class="size-[60px]" alt="poeple">
        </div>
      </div>
      <div class="mt-[30px] flex gap-2">
        <img src="/assets/icons/increase.svg" alt="increase">
        <p class="text-[#606060] text-[16px]"> <span class="text-[#00B69B]">4.3%</span> Up from yesterday</p>
      </div>
    </app-card>

   
  </div>

  <!-- Line Chart -->
  <app-card classes="mt-6">
    <div class="px-[37px] pt-9 flex justify-between items-center">
      <h2 class="text-[24px] font-bold">Sales Details</h2>
      <div class="bg-[#fcfdfd] border border-[#d5d5d5] rounded-[4px] px-3 py-2 flex items-center gap-2 w-fit">
          <span class="text-[12px] text-[rgba(43,48,52,0.4)]">{{ selectedMonth }}</span>
          <svg class="w-4 h-4 text-[rgba(43,48,52,0.4)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
      </div>
    </div>
    <div class="p-8" #salesChart>
      <app-plot-figure [options]="salesOption"></app-plot-figure>
    </div>
  </app-card>

  <!-- Deals Details Table -->
  <app-card classes="mt-6">
    <div class="px-[20px] sm:px-[37px] pt-6 sm:pt-9 pb-4 sm:pb-6">
      <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 gap-4">
        <h2 class="text-[20px] sm:text-[24px] font-bold">Deals Details</h2>
        <div class="bg-[#fcfdfd] border border-[#d5d5d5] rounded-[4px] px-3 py-2 flex items-center gap-2 w-fit">
          <span class="text-[12px] text-[rgba(43,48,52,0.4)]">{{ selectedMonth }}</span>
          <svg class="w-4 h-4 text-[rgba(43,48,52,0.4)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </div>
      </div>

      <!-- Desktop Table -->
      <div class="hidden lg:block">
        <!-- Table Headers -->
        <div class="bg-[#f1f4f9] rounded-[12px] p-4 mb-4">
          <div class="grid grid-cols-6 gap-4">
            <div class="text-[14px] font-bold text-[#202224]">Product Name</div>
            <div class="text-[14px] font-bold text-[#202224]">Location</div>
            <div class="text-[14px] font-bold text-[#202224]">Date - Time</div>
            <div class="text-[14px] font-bold text-[#202224]">Piece</div>
            <div class="text-[14px] font-bold text-[#202224]">Amount</div>
            <div class="text-[14px] font-bold text-[#202224]">Status</div>
          </div>
        </div>

        <!-- Table Rows -->
        <div class="space-y-3">
          <div *ngFor="let deal of dealsData; let last = last"
               class="border-b border-gray-100 py-4 pl-4"
               [class.pb-4]="!last"
               [class.border-b]="!last">
            <div class="grid grid-cols-6 gap-4 items-center">
              <div class="flex items-center gap-3">
                <div class="w-9 h-9 bg-[#d8d8d8] rounded-[18px] flex items-center justify-center">
                  <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2'%3E%3Crect x='4' y='4' width='16' height='16' rx='2'/%3E%3Cline x1='9' y1='9' x2='15' y2='9'/%3E%3Cline x1='9' y1='12' x2='15' y2='12'/%3E%3C/svg%3E" alt="product" class="w-5 h-5">
                </div>
                <span class="text-[14px] font-medium text-[#202224] opacity-80">{{ deal.productName }}</span>
              </div>
              <div class="text-[14px] font-medium text-[#202224] opacity-80">{{ deal.location }}</div>
              <div class="text-[14px] font-medium text-[#202224] opacity-80">{{ deal.date }} - {{ deal.time }}</div>
              <div class="text-[14px] font-medium text-[#202224] opacity-80">{{ deal.pieces }}</div>
              <div class="text-[14px] font-medium text-[#202224] opacity-80">{{ formatAmount(deal.amount) }}</div>
              <div>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-[14px] font-bold text-white"
                      [style.background-color]="getStatusColor(deal.status)">
                  {{ getStatusText(deal.status) }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Tablet View -->
      <div class="hidden md:block lg:hidden">
        <!-- Table Headers -->
        <div class="bg-[#f1f4f9] rounded-[12px] p-3 mb-3">
          <div class="grid grid-cols-5 gap-3">
            <div class="text-[13px] font-bold text-[#202224]">Product</div>
            <div class="text-[13px] font-bold text-[#202224]">Location</div>
            <div class="text-[13px] font-bold text-[#202224]">Date</div>
            <div class="text-[13px] font-bold text-[#202224]">Amount</div>
            <div class="text-[13px] font-bold text-[#202224]">Status</div>
          </div>
        </div>

        <!-- Table Rows -->
        <div class="space-y-3">
          <div *ngFor="let deal of dealsData; let last = last"
               class="border-b border-gray-100 py-3"
               [class.pb-3]="!last"
               [class.border-b]="!last">
            <div class="grid grid-cols-5 gap-3 items-center">
              <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-[#d8d8d8] rounded-[14px] flex items-center justify-center flex-shrink-0">
                  <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2'%3E%3Crect x='4' y='4' width='16' height='16' rx='2'/%3E%3Cline x1='9' y1='9' x2='15' y2='9'/%3E%3Cline x1='9' y1='12' x2='15' y2='12'/%3E%3C/svg%3E" alt="product" class="w-4 h-4">
                </div>
                <span class="text-[13px] font-semibold text-[#202224] opacity-80 truncate">{{ deal.productName }}</span>
              </div>
              <div class="text-[13px] font-semibold text-[#202224] opacity-80 truncate">{{ deal.location }}</div>
              <div class="text-[13px] font-semibold text-[#202224] opacity-80">{{ deal.date }}</div>
              <div class="text-[13px] font-semibold text-[#202224] opacity-80">{{ formatAmount(deal.amount) }}</div>
              <div>
                <span class="inline-flex items-center px-2 py-1 rounded-full text-[12px] font-bold text-white"
                      [style.background-color]="getStatusColor(deal.status)">
                  {{ getStatusText(deal.status) }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Mobile View -->
      <div class="md:hidden">
        <!-- Mobile Cards -->
        <div class="space-y-4">
          <div *ngFor="let deal of dealsData" class="border border-gray-200 rounded-lg p-4 bg-gray-50">
            <div class="flex items-start justify-between mb-3">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-[#d8d8d8] rounded-[18px] flex items-center justify-center">
                  <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2'%3E%3Crect x='4' y='4' width='16' height='16' rx='2'/%3E%3Cline x1='9' y1='9' x2='15' y2='9'/%3E%3Cline x1='9' y1='12' x2='15' y2='12'/%3E%3C/svg%3E" alt="product" class="w-5 h-5">
                </div>
                <div>
                  <h3 class="text-[15px] font-semibold text-[#202224] opacity-90">{{ deal.productName }}</h3>
                  <p class="text-[12px] text-gray-500 opacity-80">{{ deal.pieces }} pieces</p>
                </div>
              </div>
              <span class="inline-flex items-center px-2 py-1 rounded-full text-[11px] font-bold text-white"
                    [style.background-color]="getStatusColor(deal.status)">
                {{ getStatusText(deal.status) }}
              </span>
            </div>
            <div class="space-y-2 text-sm">
              <div class="flex justify-between">
                <span class="text-gray-500 text-[13px]">Location:</span>
                <span class="text-[13px] font-medium text-[#202224] opacity-80">{{ deal.location }}</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-500 text-[13px]">Date:</span>
                <span class="text-[13px] font-medium text-[#202224] opacity-80">{{ deal.date }}</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-500 text-[13px]">Time:</span>
                <span class="text-[13px] font-medium text-[#202224] opacity-80">{{ deal.time }}</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-500 text-[13px]">Amount:</span>
                <span class="text-[13px] font-bold text-[#202224] opacity-90">{{ formatAmount(deal.amount) }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </app-card>

  <!-- Line Chart -->
  <app-card classes="mt-6">
    <div class="px-[37px] pt-9 flex justify-between items-center">
      <h2 class="text-[24px] font-bold">Revenue</h2>
      <div class="bg-[#fcfdfd] border border-[#d5d5d5] rounded-[4px] px-3 py-2 flex items-center gap-2 w-fit">
        <span class="text-[12px] text-[rgba(43,48,52,0.4)]">{{ selectedMonth }}</span>
        <svg class="w-4 h-4 text-[rgba(43,48,52,0.4)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
      </div>
    </div>
    <div class="p-8">
      <app-plot-figure [options]="dualLineChartOptions"></app-plot-figure>
    </div>
  </app-card>
  
  <section class="info-section">
    <div class="" style="flex: 0.5 1 0%">
      <app-card classes="p-4 w-full h-full mx-auto">
        <p class="text-[22px] font-bold"> Customers </p>
        <div class="flex justify-center">
          <app-pie-chart [data]="parentComponentData"></app-pie-chart>
        </div>
        <div class="flex justify-around mt-4">
          <div>
            <div class="text-[28px] font-bold w-full text-center">34,249</div>
            <div class="w-full text-center">New Customers</div>
          </div>
          <div>
            <div class="text-[28px] font-bold w-full text-center">1420</div>
            <div class="w-full text-center">Repeated</div>
          </div>
        </div>
      </app-card>
    </div>

    <div class="">
      <app-card classes="p-[24px] w-full h-full mx-auto">
        <p class="text-[22px] font-bold"> Featured Product </p>
        <div class="mt-4 mx-auto" style="width: 350px; height: 250px;" >
          <app-image-slider 
            [parentWidth]="350" 
            [slides]="slides" 
            [dots]="false" 
            (currentSlideOutput)="getCurrentSlide($event)"/>
        </div>

        <div class="mt-6">
          <div class="text-[18px] font-bold text-center">Beats Headphone 2019</div>
          <div class="text-[16px] font-bold text-[#4880FF] text-center">$89.00</div>
        </div>
      </app-card>
    </div>
    
    
   <div class="flex-1 flex-grow">
     <app-card classes="p-[24px] w-full h-full mx-auto">
      <p class="text-[22px] font-bold mb-4"> Sales Analytics </p>
      <app-plot-figure [options]="analyticsOption"></app-plot-figure>
    </app-card>
   </div>
   
  </section>


  </div>